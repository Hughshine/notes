# 四、Model Constructions

已知ML的区分能力，我们可以定义维护模态逻辑真值的操作(truth preserving operations)、可以进一步思考不能用模态逻辑区分的（点）模型的“性质”。（模型类($\{(M, w)|\dots\}$)：什么样的模型类能被模态逻辑定义？）（A property is not definable by the basic modal logic if there are two bisimilar models such that one satisfies the property and one does not.）

## Bisimulation contraction

对模型$M$做bisimulation contraction，做什么：

论域：$W' = \{|w|\;|\;w\in W_M\}$ where $|w|=\{v\;|\;w\simeq v\}$.【暂使用$\simeq$表示互摹拟关系】.【相当于把所有互摹拟的点压缩为一个】

可及关系：$|w|\rightarrow'|v|$ iff $\exists w'\in|w|,v'\in|v|.\;w'\rightarrow v' in\;M$.等价类到等价类若具有某个可及关系，只要其中某个世界和另一个等价类的某个世界有可及关系。


赋值：被压缩的点所有的赋值都是一样的，保持这个赋值。$V'(|w|)=V(w)$.

## 前四个暂时记在pad上

## 超滤拓张（暂只记直观、概念）

filter: filter F over W, 是W的幂集的子集，满足不包含空集、包含全集；对交集封闭；对超集封闭。

ultrafilter: either $X\in F$ or $W\char`\\ X\in F$.

主超滤：the family generated by the singleton {s}, $\pi_s=\{X\subseteq W\;|\;s\in X\}$. 主元唯一确定主超滤.

非主超滤，就是不是主超滤的超滤。它不包含有限集合。【证明：反证，推理出矛盾；会利用到超滤、滤、和主超滤的性质】。

> 这意味着，有限集合无非主超滤。非主超滤只包含无限集，并包含所有余有限集（co-finite subsets of W）.

### 滤 -> 超滤

> TODO: 这一部分还需要后续建立直觉的理解。

集合族具有有限可交性：$for\;each\;n\in \mathbb{N}, and\;X_1\dots X_n\in F: \bigcap_{i\le n} X_i\not= \emptyset$. 即任意有限个子集的交集不为空。

如果一个集合族（E）（它是W的幂集的子集）具有优先可交性，那么可以将它拓展为一个滤（F）。F可以这样被构造：收集E的所有可能的有限交集，将它们本身和它们的超集加入F。

滤（F）到超滤的拓展：利用Zorn引理证明（若一个偏序集的每一条链都有上界，那么这个偏序集至少有一个极大元），我们构造偏序集P，P中包含F的所有是滤的超集，偏序关系就是“子集”关系。我们证明P满足Zorn Lemma（...），得到存在一个极大filter，再证明极大filter是超滤。

> 因而，任何一个有限可交的集合族都可以拓展为一个超滤。

### 超滤拓张

几个定义：

$\llbracket\varphi\rrbracket^{\mathcal{M}}=\{w\;|\;M,w\vDash\varphi\}$

$m_R(X)=\{w\in W_M\;|\;\exists v\in X:w R v\}$. X是一个可能世界集合，$m_R(X)$的含义是“有后继落在X中的那些结点”。

$I_R(X) =\{w\in W_{\mathcal{M}}\;|\;\forall v.\;if\;wRv\;then\;v\in X\}$. 指“全部后继都在X中的那些结点”。

$m_R(\llbracket\varphi\rrbracket^{\mathcal{M}})=\llbracket\Diamond\varphi\rrbracket^{\mathcal{M}}$


$I_R(\llbracket\varphi\rrbracket^{\mathcal{M}})=\llbracket\Box\varphi\rrbracket^{\mathcal{M}}$

超滤拓张：

论域：原论域的所有超滤。

可及关系：$u\rightarrow u'\iff \forall X.\;X\in u'\Rightarrow m_R(X)\in u$.

> 或写作：$u\rightarrow u'\iff \forall Y.\;I_R(Y)\in u\Rightarrow Y\in u'$.

赋值：$V(u) = \{p\;|\;\llbracket p\rrbracket^{\mathcal{M}}\in u\}$

> 很难说究竟要如何直观的理解... 量词太多了吧...

超滤拓张：$M, w\equiv_{\texttt{ML}}M^{ue}, \pi_w$.

> 每个世界，映射到以其本身为主元的主超滤。

> 呜呜呜，怎么看懂。不想理解了，能赶快记住不错了。

More general result: 对于一个模型M，$M^{ue}, u\vDash\varphi\Leftrightarrow\llbracket\varphi\rrbracket^{M}\in u.$

***

模型$M$的超滤拓张$M^{ue}$是模态饱和的。

如果两个点模型模态等价，它们的超滤拓张也等价、并且是互摹拟的：$M, w\equiv_{\texttt{ML}} N, v\Rightarrow M^{ue},\pi_w\simeq N^{ue}, \pi_v$

## 超积 Ultraproduct

【见笔记】

超滤（要看是什么超滤） => “关键项”一致/关键项保持关系

## 超幂 Ultrapower

（同时保持一阶逻辑的真值）

## 模态逻辑的紧致性

如果一个模态逻辑公式集是有限可满足的，它就是可满足的。

